{% extends "base.html" %}
{% load embed_video_tags %}

{% block main_content %}

    {# Speaker INFO #}

    <div class="speaker">
        <div class="speaker__image">
            <img src="{{ speaker.images.first.profile_picture.url }}">
        </div>

        <div class="speaker__details">
            <h2 class="speaker__name">
                {% if speaker.country %}
                    <i class="flag em em-flag-{{ speaker.country.code|lower }}"></i>
                {% endif %}
                {{ speaker.name }}
            </h2>

            <h3 class="speaker__job"> {{ speaker.job }} {% if speaker.company %}- {{ speaker.company }}{% endif %}</h3>
            <p>
                {{ speaker.description }}
            </p>
            <h3>previous talks</h3>
            {% for video_item in speaker.videos.all %}
                {% video video_item.video as video %}
                    URL: <a href="{{ video.url }}">{{ video.url }}</a> <br />
                  Thumbnail: <img src="{{ video.thumbnail }}"/><br />
                    Backend: <b>{{ video.backend }}</b><br />

                {% endvideo %}

                {% video video_item.video "small" %}
            {% endfor %}


            {% for presentation in speaker.presentation.all %}
                <h2>
                    {% if presentation.type == 1 %}
                    <i class="fas fa-cogs"></i>
                    {% else %}
                    <i class="fas fa-bullhorn"></i>
                    {% endif %}
                    {{ presentation.title }}
                </h2>
                <p class="speaker__description title--white">
                    {{ presentation.description|safe }}
                </p>
            {% endfor %}

            {% for presentation in speaker.presentations.all %}
                {% if presentation.type == 5 %} {# Keynote talk #}
                    <h4 class="speaker__presentation">{{ presentation.title }}</h4>
                    <p>{{ presentation.description }}</p>
                {% elif presentation.type == 10 %} {# Normal talk #}
                    <h4 class="speaker__presentation">{{ presentation.title }}</h4>
                    <p>{{ presentation.description }}</p>
                {% elif presentation.type == 15 %} {# Workshop #}
                    <h4 class="speaker__presentation">{{ presentation.title }}</h4>
                    <p>{{ presentation.description }}</p>
                {% endif %}
            {% endfor %}

            <div class="social__links">
                {% if speaker.personal_website %}
                <a href="{{ speaker.personal_website }}" class="website" target="_ blank"></a>
                {% endif %}
                {% if speaker.github %}
                    <a href="{{ speaker.github }}" class="github" target="_ blank"></a>
                {% endif %}
                {% if speaker.linkedin %}
                    <a href="{{ speaker.linkedin }}" class="linkedin" target="_ blank"></a>
                {% endif %}
                {% if speaker.twitter %}
                    <a href="{{ speaker.twitter }}" class="twitter" target="_ blank"></a>
                {% endif %}
                {% if speaker.facebook %}
                    <a href="{{ speaker.facebook }}" class="facebook" target="_ blank"></a>
                {% endif %}
            </div>
        </div>
    </div>

{% endblock %}
